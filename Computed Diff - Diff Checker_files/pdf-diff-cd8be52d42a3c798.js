(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9908],{84805:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return se}});var i=a(79892),s=a.n(i),r=a(50581),n=a(18528),l=a(88038),o=a(78430),d=a(67545),c=a(90377),h=a(90849),f=a(63021),m=a(77204),p=a(93994),g=a(44864),u=a(50720),b=a(17182);f.GlobalWorkerOptions.workerSrc="/pdf.worker-2.9.359.js";const w=["application/pdf"];class y extends r.default.Component{constructor(e){super(e),(0,h.Z)(this,"handleUploaded",(e=>{this.handleNewPdf(e.data,e.file.name)})),(0,h.Z)(this,"parsePdfPageData",(async(e,t)=>{const a=await e.getPage(t),i=await a.getTextContent();this.setState((({pagesParsed:e})=>({pagesParsed:e+1})));let s=0;return{page:a,text:i.items.reduce(((e,t)=>{if("undefined"!==typeof t.transform){const a=s!==t.transform[5];return s=t.transform[5],[e,t.str].join(a?"\n":"")}return e}),"")}})),(0,h.Z)(this,"handleNewPdf",(async(e,t)=>{this.setState({showPagesParsingProgress:!0,pagesParsed:0});const a=await f.getDocument(e).promise,i=[];for(let r=1;r<=a.numPages;r++)i.push(this.parsePdfPageData(a,r));try{const[e,s]=await Promise.all([Promise.all(i),a.getMetadata()]),r=e.map((e=>e.page)),n=e.map((e=>e.text)).join("\n");this.setState({showPagesParsingProgress:!1,filename:t}),this.props.onTextLoaded(n,r,s.info)}catch(s){this.setState({showPagesParsingProgress:!1}),console.error(s)}})),(0,h.Z)(this,"readFile",((e,t)=>{const a=new FileReader;a.onload=()=>{this.handleNewPdf(a.result,t)},a.onerror=()=>{console.error(a.error)},a.onloadstart=()=>{this.setState({showFileReadingProgress:!0,readingProgress:0})},a.onprogress=({loaded:e,total:t})=>{this.setState({readingProgress:100*e/t})},a.onloadend=()=>{this.setState({showFileReadingProgress:!1})},a.readAsDataURL(e)})),(0,h.Z)(this,"onDrop",(([e],[t])=>{t||this.readFile(e,e.name)})),this.state={filename:"",showFileReadingProgress:!1,showPagesParsingProgress:!1,readingProgress:0,pagesParsed:0,dragState:""}}async componentDidMount(){const{filePath:e}=this.props;if(!e)return;const t=await(0,g.Z)(e),a=await t.blob();this.readFile(a,e)}renderContent(e){const{isDragActive:t,isDragReject:a,fileInfo:i}=e,{showFileReadingProgress:s,filename:r,readingProgress:n,showPagesParsingProgress:l,pagesParsed:o}=i;let d="",c="",h="",f="";return t&&(c="active",h="a PDF",f="single-pdf"),a&&(d="This is not a PDF file",f="error",c="error"),s&&(f="loading",d="Reading file... ".concat(n.toFixed(2),"%")),l&&(f="loading",d="Parsing file page... ".concat(o)),r&&(f="single-pdf",d=r),t||a||s||l||r?(0,b.tZ)(m.Z,{icon:f,instruction:d,className:c,typeText:h}):(0,b.tZ)(m.Z,{icon:"single-pdf",typeText:"a PDF"})}render(){const{filename:e,showFileReadingProgress:t,showPagesParsingProgress:a,readingProgress:i,pagesParsed:r}=this.state,n={filename:e,showFileReadingProgress:t,showPagesParsingProgress:a,readingProgress:i,pagesParsed:r};return(0,b.BX)("div",{className:"jsx-3148603139 pdfInput-container",children:[(0,b.tZ)(p.Z,{onChange:this.handleUploaded,type:"pdf",label:this.state.filename||this.props.label,acceptedFileTypes:w}),this.props.showDropzone&&(0,b.tZ)(u.Z,{onDrop:this.onDrop,width:this.props.width,height:this.props.height,renderContent:(e,t)=>this.renderContent({isDragActive:e,isDragReject:t,fileInfo:n}),acceptedFileTypes:w}),(0,b.tZ)(s(),{id:"3148603139",children:[".pdfInput-container.jsx-3148603139{height:100%;position:relative;}"]})]})}}(0,h.Z)(y,"defaultProps",{width:"100%",height:"100%"});var x=y,v=a(96494),P=a(66321),Z=a(52689),D=a(44847),j=a(82571),_=a(60042),L=a.n(_),C=a(82222),T=a(61046),N=a(44782);a(56854);let O;!function(e){e.Both="both",e.Left="left",e.Right="right"}(O||(O={}));var R=async(e,t)=>{const i=[];for(let s=0;s<Math.max(e.length,t.length);s++){const r=e[s],n=t[s],l=(await a.e(7329).then(a.t.bind(a,47329,23))).default;s<e.length&&s<t.length?i.push(l(r,n,{}).then((e=>({mismatchPercentage:Number(e.misMatchPercentage),imageDataUrl:e.getImageDataUrl(),pageSide:O.Both})))):s<e.length?i.push(Promise.resolve({mismatchPercentage:100,imageDataUrl:r,pageSide:O.Left})):i.push(Promise.resolve({mismatchPercentage:100,imageDataUrl:n,pageSide:O.Right}))}return await Promise.all(i)};var k=e=>(0,b.BX)("div",{className:"jsx-1236977049 pdf-image-output",children:[(0,b.BX)("div",{className:"jsx-1236977049",children:[(0,b.BX)("h2",{className:"jsx-1236977049",children:["Page ",e.pageNumber]}),e.imageData.pageSide!==O.Both&&(0,b.BX)("p",{className:"jsx-1236977049",children:["This page only exists on the"," ",e.imageData.pageSide===O.Left?"original (left)":"changed (right)"," ","pdf"]}),e.imageData.pageSide===O.Both&&(0,b.tZ)("div",{className:"jsx-1236977049 difference-amount",children:0!==Math.round(1e5*e.imageData.mismatchPercentage)?Math.ceil(e.imageData.mismatchPercentage).toString()+"% Different":"Equal"})]}),(0,b.tZ)("img",{src:e.imageData.imageDataUrl,alt:"difference",className:"jsx-1236977049 downsize"}),(0,b.tZ)(s(),{id:"1236977049",children:[".pdf-image-output.jsx-1236977049{padding-top:40px;background:var(--back-strong);}",".difference-amount.jsx-1236977049{margin:5px;font-weight:600;font-size:14px;}",".downsize.jsx-1236977049{width:1190px;max-width:90%;}"]})]});var A=e=>(0,b.BX)(b.HY,{children:[(0,b.tZ)("div",{className:s().dynamic([["2973481510",[void 0]]])+" alert-container",children:0===e.imageData.length&&(0,b.tZ)(N.Z,{type:"warning",children:"Images are still loading"})}),e.imageData.length>0&&e.imageData.every((e=>0===Math.round(1e5*e.mismatchPercentage)))&&(0,b.tZ)(N.Z,{type:"warning",children:"The two files are identical"}),e.imageData.map(((e,t)=>(0,b.tZ)(k,{imageData:e,pageNumber:t+1},e.imageDataUrl))),(0,b.tZ)(s(),{id:"2973481510",dynamic:[void 0],children:[".alert-container.__jsx-style-dynamic-selector{margin:20px;".concat(void 0," background:var(--back-strongest);}")]})]});function I(e){e=e.replace("D:","");const t=parseInt(e.substring(0,4)),a=parseInt(e.substring(4,6)),i=parseInt(e.substring(6,8)),s=parseInt(e.substring(8,10)),r=parseInt(e.substring(10,12)),n=parseInt(e.substring(12,14)),l=new Date(t,a,i,s,r,n);return l.toLocaleDateString()+" "+l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var F=e=>(0,b.BX)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]]),children:[(0,b.BX)("ul",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta",children:[e.metadata.Title&&""!==e.metadata.Title.trim()&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Title"}),e.metadata.Title]}),e.metadata.Author&&""!==e.metadata.Author.trim()&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Author"}),e.metadata.Author]}),e.metadata.CreationDate&&""!==e.metadata.CreationDate.trim()&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Date Created"}),I(e.metadata.CreationDate)]}),e.metadata.PDFFormatVersion&&""!==e.metadata.PDFFormatVersion.trim()&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"PDF Format Verison"}),e.metadata.PDFFormatVersion]}),e.metadata.ModDate&&""!==e.metadata.ModDate.trim()&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Modification Date"}),I(e.metadata.ModDate)]}),e.metadata.Producer&&""!==e.metadata.Producer.trim()&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Producer"}),e.metadata.Producer]}),void 0!==e.metadata.IsAcroFormPresent&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Acroforms Present"}),e.metadata.IsAcroFormPresent?"Yes":"No"]}),void 0!==e.metadata.IsLinearized&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Linearized"}),e.metadata.IsLinearized?"Yes":"No"]}),void 0!==e.metadata.IsXFAPresent&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"XFA Present"}),e.metadata.IsXFAPresent?"Yes":"No"]}),void 0!==e.metadata.IsCollectionPresent&&(0,b.BX)("li",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item",children:[(0,b.tZ)("div",{className:s().dynamic([["2428973069",[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small]]])+" file-meta-item__label",children:"Collections Present"}),e.metadata.IsCollectionPresent?"Yes":"No"]})]}),(0,b.tZ)(s(),{id:"2428973069",dynamic:[D.fL.label.small.size,D.fL.label.bold.weight,D.AV.web.small],children:[".file-meta.__jsx-style-dynamic-selector{display:grid;grid-gap:20px;grid-template-columns:1fr 1fr;padding:20px;}",".file-meta-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid var(--back-medium);padding-bottom:2px;font-size:".concat(D.fL.label.small.size,";}"),".file-meta-item__label.__jsx-style-dynamic-selector{font-weight:".concat(D.fL.label.bold.weight,";margin-right:auto;}"),"@media (max-width:".concat(D.AV.web.small,"){.file-meta.__jsx-style-dynamic-selector{grid-template-columns:1fr;}}")]})]});var z=e=>(0,b.BX)("div",{className:"jsx-1953032774 imageDiff-output-details",children:[(0,b.tZ)("div",{className:"jsx-1953032774 imageDiff-output-container",children:(0,b.tZ)("div",{className:"jsx-1953032774 imageDiff-output",children:(0,b.tZ)("div",{className:"jsx-1953032774 imageDiff-output__data",children:(0,b.tZ)(F,{metadata:e.originalMetadata})})})}),(0,b.tZ)("div",{className:"jsx-1953032774 imageDiff-output-container",children:(0,b.tZ)("div",{className:"jsx-1953032774 imageDiff-output",children:(0,b.tZ)("div",{className:"jsx-1953032774 imageDiff-output__data",children:(0,b.tZ)(F,{metadata:e.changedMetadata})})})}),(0,b.tZ)(s(),{id:"1953032774",children:[".imageDiff-output-details.jsx-1953032774{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:100%;min-height:300px;}",".imageDiff-output-container.jsx-1953032774{width:50%;}",".imageDiff-output-container.jsx-1953032774:first-child{border-right:solid 0.5rem var(--back-strongest);}",".imageDiff-output-container.jsx-1953032774:last-child{border-left:solid 0.5rem var(--back-strongest);}",".imageDiff-output.jsx-1953032774{height:100%;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:var(--front-strongest);background:var(--back-strong);}",".imageDiff-output__image.jsx-1953032774{padding:20px;}",".imageDiff-output__image.jsx-1953032774 img.jsx-1953032774{max-height:200px;max-width:100%;display:block;margin:0 auto;}"]})]}),V=a(49222),B=a(49500);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,h.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X=function(e){return(0,b.tZ)("svg",M(M({},e),{},{children:(0,b.tZ)("path",{d:"M2 1h2a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm7 0h2a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"})}))};X.defaultProps={height:"11",width:"13",xmlns:"http://www.w3.org/2000/svg"};var U=function(e){return(0,b.tZ)("svg",M(M({},e),{},{children:(0,b.tZ)("path",{d:"M11.421 2.093 1.58 8.907c.128.06.27.093.421.093h9a1 1 0 0 0 1-1V3a1 1 0 0 0-.579-.907zM2 1h9a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"})}))};U.defaultProps={height:"11",width:"13",xmlns:"http://www.w3.org/2000/svg"};var H=function(e){return(0,b.tZ)("svg",M(M({},e),{},{children:(0,b.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 1h4a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H7V1ZM6 1H2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h4V1ZM0 2a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Zm5 2H2V3h3v1ZM2 6h3V5H2v1Zm9-2H8V3h3v1ZM8 6h3V5H8v1Z"})}))};let E;H.defaultProps={width:"13",height:"9",xmlns:"http://www.w3.org/2000/svg"},function(e){e.Text="Text",e.Image="Image",e["File details"]="File details",e.OCR="OCR Text"}(E||(E={}));const Y=[new C.r((0,b.tZ)(X,{}),E.Text),new C.r((0,b.tZ)(U,{}),E.Image),new C.r((0,b.tZ)(X,{}),E.OCR),new C.r((0,b.tZ)(H,{}),E["File details"])];var W=e=>{const t=(0,r.useRef)(null),a=e.type,i=0===e.left.trim().length,s=0===e.right.trim().length;return(0,b.BX)(b.HY,{children:[(0,b.tZ)("div",{className:L()({"reduced-margin":[E.Text,E.OCR].includes(a)}),children:(0,b.tZ)(C.Z,{type:a,onTypeChange:t=>{e.onTypeChange(t),Z.Z.trackEvent("Changed pdf diff type",{changedTo:t})},outputTypes:Y})}),(0,b.tZ)(V.Z,{type:a}),a===E.Image&&(0,b.tZ)(A,{imageData:e.imageData}),a===E.Text&&(0,b.BX)(b.HY,{children:[(i||s)&&(0,b.BX)(N.Z,{type:"warning",children:["We detected that you submitted an empty PDF. It is most likely because it is a scanned version of a document, where we cannot recognize the text as it's just a big image.",(0,b.tZ)("br",{}),(0,b.tZ)("br",{}),"To see any differences, please toggle to the"," ",E.Image," tab or ",E.OCR," tab."]}),(0,b.tZ)(T.Z,{left:e.left,right:e.right,virtuoso:t,diffInputType:B.e.PDF})]}),a===E.OCR&&(e.ocrLoading?(0,b.BX)(b.HY,{children:[0===e.ocrProgress?"Initializing...":"Loading ".concat(Math.floor(100*e.ocrProgress),"%"),(0,b.tZ)(N.Z,{type:"warning",children:"OCR diffing can take some time to complete. You may experience some slowness navigating to other tabs during loading."})]}):(0,b.tZ)(T.Z,{left:e.leftOCRText,right:e.rightOCRText,virtuoso:t,diffInputType:B.e.PDF})),"File details"===a&&(0,b.tZ)(z,{originalMetadata:e.originalMetadata,changedMetadata:e.changedMetadata})]})},$=a(64045),q=a(90104),G=a.n(q),J=a(31524);class K extends r.Component{constructor(e){super(e),(0,h.Z)(this,"handleFileLoaded",((e,t,a,i)=>{"left"===e?this.setState({left:t,leftPdfPages:a,originalMetadata:i,leftOCRText:"",diffImageData:[]},(()=>{this.diffBasedOnType(this.state.diffType)})):this.setState({right:t,rightPdfPages:a,changedMetadata:i,rightOCRText:"",diffImageData:[]},(()=>{this.diffBasedOnType(this.state.diffType)})),Z.Z.trackEvent("Uploaded PDF to diff",{side:e})})),(0,h.Z)(this,"pageToImageUrl",(e=>{const t=e.getViewport({scale:2}),a=document.createElement("canvas"),i=a.getContext("2d");if(null===i)throw console.error("The canvas was null"),Error();const s={canvasContext:i,viewport:t};return a.height=t.height,a.width=t.width,e.render(s).promise.then((()=>a.toDataURL("image/png")))})),(0,h.Z)(this,"getPageImages",(()=>{const e=[],t=[],a=[];for(const i of this.state.leftPdfPages)e.push(this.pageToImageUrl(i));for(const i of this.state.rightPdfPages)t.push(this.pageToImageUrl(i));return a.push(Promise.all(e)),a.push(Promise.all(t)),Promise.all(a)})),(0,h.Z)(this,"diffOCR",(()=>{const{leftOCRText:e,rightOCRText:t,ocrLoading:i}=this.state;i||(e&&t?this.props.createDiff({left:e,right:t}):this.setState({ocrProgress:0,ocrLoading:!0},(async()=>{const i=await this.getPageImages(),s=e?[]:i[0],r=t?[]:i[1],n=s.length+r.length,l=Math.min(window.navigator.hardwareConcurrency||4,n),{createWorker:o,createScheduler:d}=await a.e(807).then(a.t.bind(a,70807,23)),c=d(),h={};for(let e=0;e<l;e++){const e=o({logger:e=>{const{jobId:t,progress:a,userJobId:i}=e;if(!t)return;h[i]=a;const s=Object.values(h).reduce(((e,t)=>Number(e)+Number(t)),0),r=Number(s)/n;this.setState({ocrProgress:r})}});await e.load(),await e.loadLanguage("eng"),await e.initialize("eng"),c.addWorker(e)}const f=(await Promise.all(s.concat(r).map((e=>c.addJob("recognize",e))))).map((e=>e.data.text)),m=f.slice(0,s.length).join(""),p=f.slice(s.length).join(""),g=e||m,u=t||p;this.props.createDiff({left:g,right:u}),this.setState({leftOCRText:g,rightOCRText:u,ocrLoading:!1}),await c.terminate()})))})),(0,h.Z)(this,"diffImages",(async()=>{if(0===this.state.diffImageData.length)try{const[e,t]=await this.getPageImages(),a=await R(e,t);this.setState({diffImageData:a})}catch(e){console.error(e)}})),(0,h.Z)(this,"diffText",(()=>((0,j.clearAdditionalArgs)(),new Promise((e=>{this.setState({loading:!0},(()=>{const{left:t,right:a}=this.state;this.props.createDiff({left:t,right:a}),window.scrollTo(0,0),Z.Z.trackEvent("Created PDF diff"),this.setState({loading:!1,diffLoaded:!0},e)}))}))))),(0,h.Z)(this,"bothPDFsLoaded",(()=>{const{originalMetadata:e,changedMetadata:t}=this.state;return!G()(e)&&!G()(t)})),(0,h.Z)(this,"diffBasedOnType",(async e=>{if(this.bothPDFsLoaded())switch(e){case E.OCR:return this.diffOCR();case E.Image:return this.diffImages();case E.Text:return this.diffText()}})),(0,h.Z)(this,"handleDiffTypeChange",(async e=>{e===E.OCR||e===E.Text?this.setState({loading:!0},(async()=>{await this.diffBasedOnType(e),this.setState({diffType:e,loading:!1})})):this.setState({diffType:e},(()=>this.diffBasedOnType(e)))})),this.state={left:"",right:"",leftOCRText:"",rightOCRText:"",loading:e.filePath1&&e.filePath2,leftPdfPages:[],rightPdfPages:[],originalMetadata:{},changedMetadata:{},diffImageData:[],diffLoaded:!1,diffType:E.Text,ocrProgress:0,ocrLoading:!1}}render(){const{filePath1:e,filePath2:t}=this.props;return(0,b.BX)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" pdfDiffChecker",children:[this.state.diffLoaded&&(0,b.tZ)($.Z,{isLiveDiff:!1,diffInputType:B.e.PDF}),(0,b.BX)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" pdfDiffChecker-inputs-container",children:[!this.state.diffLoaded&&(0,b.tZ)(J.Z,{position:"aboveForm",diffInputType:B.e.PDF}),(0,b.BX)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" "+(L()("inputs",{loading:this.state.loading,diffResult:this.state.diffLoaded})||""),children:[(0,b.tZ)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" original-container",children:(0,b.tZ)(x,{filePath:e,onTextLoaded:(e,t,a)=>this.handleFileLoaded("left",e,t,a),showDropzone:!this.state.diffLoaded,label:"Original PDF"})}),(0,b.tZ)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" changed-container",children:(0,b.tZ)(x,{filePath:t,onTextLoaded:(e,t,a)=>this.handleFileLoaded("right",e,t,a),showDropzone:!this.state.diffLoaded,label:"Changed PDF"})})]}),!this.state.diffLoaded&&(0,b.tZ)(J.Z,{position:"aboveSubmit",diffInputType:B.e.PDF}),this.state.diffLoaded&&(0,b.tZ)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" output",children:(0,b.tZ)(W,{left:this.state.left,right:this.state.right,leftOCRText:this.state.leftOCRText,rightOCRText:this.state.rightOCRText,ocrProgress:this.state.ocrProgress,ocrLoading:this.state.ocrLoading,originalMetadata:this.state.originalMetadata,changedMetadata:this.state.changedMetadata,imageData:this.state.diffImageData,onTypeChange:this.handleDiffTypeChange,type:this.state.diffType})})]}),this.state.loading&&(0,b.tZ)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" loader",children:(0,b.tZ)("div",{className:s().dynamic([["271625323",["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small]]])+" loader-inner",children:(0,b.tZ)(v.Z,{message:"Computing difference"})})}),(0,b.tZ)(s(),{id:"271625323",dynamic:["","15px",D.ce.borderRadius,D.ce.shadowHover,D.AV.web.small],children:[".pdfDiffChecker.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-top:1rem;padding-right:1rem;padding-left:1rem;".concat(""," position:relative;}"),".pdfDiffChecker.__jsx-style-dynamic-selector *.__jsx-style-dynamic-selector{box-sizing:border-box;}",".original-container.__jsx-style-dynamic-selector,.changed-container.__jsx-style-dynamic-selector{width:50%;padding-right:0.5rem;padding-left:0.5rem;}",".original-container.__jsx-style-dynamic-selector{padding-left:0;}",".changed-container.__jsx-style-dynamic-selector{padding-right:0;}",".pdfDiffChecker-inputs-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:".concat("15px",";}"),".inputs.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;min-height:275px;padding-bottom:70px;}",".inputs.loading.__jsx-style-dynamic-selector{opacity:0.5;}",".inputs.diffResult.__jsx-style-dynamic-selector{min-height:5px;}",".pdfDiffChecker.__jsx-style-dynamic-selector .find-difference.__jsx-style-dynamic-selector{margin:1rem auto;}",".button-container.__jsx-style-dynamic-selector{width:100%;text-align:center;}",".loader.__jsx-style-dynamic-selector{position:absolute;top:calc(50% - 77px);width:calc(100% - 32px);z-index:2;}",".loader-inner.__jsx-style-dynamic-selector{width:250px;margin:auto;padding:30px 0 20px;background:var(--back-strongest);border-radius:".concat(D.ce.borderRadius,";box-shadow:").concat(D.ce.shadowHover,";}"),".output.__jsx-style-dynamic-selector{padding-bottom:60px;height:100%;text-align:center;}","@media (min-width:".concat(D.AV.web.small,"){.inputs.__jsx-style-dynamic-selector{min-height:575px;}}")]})]})}}const Q={createDiff:P.Nw.createDiff};var ee=(0,d.$j)(null,Q)(K),te=a(25727),ae=a(45841),ie=a(96855);var se=(0,d.$j)()((()=>{const{filePath1:e,filePath2:t}=(0,j.additionalArgs)(),a=(0,te.CG)(ie.i$),i=(0,te.TL)();(0,r.useEffect)((()=>{i(P.Nw.clearDiff())}),[]);const d=(0,b.BX)(l.default,{children:[(0,b.tZ)("title",{children:(0,n.Z)("Compare the difference between two PDF files")}),(0,b.tZ)("meta",{name:"description",content:"Compare the difference between two PDF files! Enter two PDFs and the difference will show up below."}),(0,b.tZ)("meta",{name:"keywords",content:"pdf diff, compare pdfs, difference between pdfs, pdf file comparison"})]});return(0,b.BX)(o.Z,{name:"PDF diff",fullWidth:!0,children:[(0,b.BX)("div",{className:s().dynamic([["2066955269",["",""]]])+" pdf-diff-container",children:[d,(0,b.BX)("div",{className:s().dynamic([["2066955269",["",""]]])+" pdf-diff-content",children:[!a&&(0,b.tZ)(c.Z,{image:"pdf",header:"Compare PDFs",backgroundColor:D.O9.red.light,children:(0,b.BX)("span",{className:s().dynamic([["2066955269",["",""]]]),children:["Find the difference between two PDF files!",(0,b.tZ)("br",{className:s().dynamic([["2066955269",["",""]]])}),"Enter two PDFs and the difference will show up below."]})}),(0,b.tZ)(ae.O,{type:"rest",children:(0,b.tZ)(ee,{filePath1:e,filePath2:t})})]})]}),(0,b.tZ)(s(),{id:"2066955269",dynamic:["",""],children:[".pdf-diff-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;".concat("",";}"),".pdf-diff-content.__jsx-style-dynamic-selector{width:100%;".concat("",";}")]})]})}))},52833:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pdf-diff",function(){return a(84805)}])},761:function(e,t,a){!function(){var t={477:function(e){"use strict";e.exports=a(64927)}},i={};function s(e){var a=i[e];if(void 0!==a)return a.exports;var r=i[e]={exports:{}},n=!0;try{t[e](r,r.exports,s),n=!1}finally{n&&delete i[e]}return r.exports}s.ab="//";var r={};!function(){var e,t=r,a=(e=s(477))&&"object"==typeof e&&"default"in e?e.default:e,i=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=y(e));var t=function(e,t,a){var i=e.auth,s=e.hostname,r=e.protocol||"",n=e.pathname||"",l=e.hash||"",o=e.query||"",d=!1;i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",e.host?d=i+e.host:s&&(d=i+(~s.indexOf(":")?"["+s+"]":s),e.port&&(d+=":"+e.port)),o&&"object"==typeof o&&(o=t.encode(o));var c=e.search||o&&"?"+o||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||a.test(r))&&!1!==d?(d="//"+(d||""),n&&"/"!==n[0]&&(n="/"+n)):d||(d=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),{protocol:r,host:d,pathname:n=n.replace(/[?#]/g,encodeURIComponent),search:c=c.replace("#","%23"),hash:l}}(e,a,i);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var l="http://",o="w.w",d=l+o,c=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,h=/https?|ftp|gopher|file/;function f(e,t){var a="string"==typeof e?y(e):e;e="object"==typeof e?n(e):e;var i=y(t),s="";a.protocol&&!a.slashes&&(s=a.protocol,e=e.replace(a.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&i.protocol&&(s="",i.slashes||(s=i.protocol,t=t.replace(i.protocol,"")));var r=e.match(c);r&&!i.protocol&&(e=e.substr((s=r[1]+(r[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var o=new URL(e,d+"/"),f=new URL(t,o).toString().replace(d,""),m=i.protocol||a.protocol;return m+=a.slashes||i.slashes?"//":"",!s&&m?f=f.replace(l,m):s&&(f=f.replace(l,"")),h.test(f)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==f.slice(-1)||(f=f.slice(0,-1)),s&&(f=s+("/"===f[0]?f.substr(1):f)),f}function m(){}m.prototype.parse=y,m.prototype.format=n,m.prototype.resolve=f,m.prototype.resolveObject=f;var p=/^https?|ftp|gopher|file/,g=/^(.*?)([#?].*)/,u=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,b=/^([a-z0-9.+-]*:)?\/\/\/*/i,w=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof m)return e;var s=(e=e.trim()).match(g);e=s?s[1].replace(/\\/g,"/")+s[2]:e.replace(/\\/g,"/"),w.test(e)&&"/"!==e.slice(-1)&&(e+="/");var r=!/(^javascript)/.test(e)&&e.match(u),l=b.test(e),c="";r&&(p.test(r[1])||(c=r[1].toLowerCase(),e=""+r[2]+r[3]),r[2]||(l=!1,p.test(r[1])?(c=r[1],e=""+r[3]):e="//"+r[3]),3!==r[2].length&&1!==r[2].length||(c=r[1],e="/"+r[3]));var h,f=(s?s[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),y=f&&f[1],x=new m,v="",P="";try{h=new URL(e)}catch(t){v=t,c||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(P="/",e=e.substr(1));try{h=new URL(e,d)}catch(e){return x.protocol=c,x.href=c,x}}x.slashes=l&&!P,x.host=h.host===o?"":h.host,x.hostname=h.hostname===o?"":h.hostname.replace(/(\[|\])/g,""),x.protocol=v?c||null:h.protocol,x.search=h.search.replace(/\\/g,"%5C"),x.hash=h.hash.replace(/\\/g,"%5C");var Z=e.split("#");!x.search&&~Z[0].indexOf("?")&&(x.search="?"),x.hash||""!==Z[1]||(x.hash="#"),x.query=t?a.decode(h.search.substr(1)):x.search.substr(1),x.pathname=P+(r?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(h.pathname):h.pathname),"about:"===x.protocol&&"blank"===x.pathname&&(x.protocol="",x.pathname=""),v&&"/"!==e[0]&&(x.pathname=x.pathname.substr(1)),c&&!p.test(c)&&"/"!==e.slice(-1)&&"/"===x.pathname&&(x.pathname=""),x.path=x.pathname+x.search,x.auth=[h.username,h.password].map(decodeURIComponent).filter(Boolean).join(":"),x.port=h.port,y&&!x.host.endsWith(y)&&(x.host+=y,x.port=y.slice(1)),x.href=P?""+x.pathname+x.search+x.hash:n(x);var D=/^(file)/.test(x.href)?["host","hostname"]:[];return Object.keys(x).forEach((function(e){~D.indexOf(e)||(x[e]=x[e]||null)})),x}t.parse=y,t.format=n,t.resolve=f,t.resolveObject=function(e,t){return y(f(e,t))},t.Url=m}(),e.exports=r}()},64927:function(e){!function(){"use strict";var t={540:function(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,s,r){i=i||"&",s=s||"=";var n={};if("string"!==typeof e||0===e.length)return n;var l=/\+/g;e=e.split(i);var o=1e3;r&&"number"===typeof r.maxKeys&&(o=r.maxKeys);var d=e.length;o>0&&d>o&&(d=o);for(var c=0;c<d;++c){var h,f,m,p,g=e[c].replace(l,"%20"),u=g.indexOf(s);u>=0?(h=g.substr(0,u),f=g.substr(u+1)):(h=g,f=""),m=decodeURIComponent(h),p=decodeURIComponent(f),t(n,m)?a(n[m])?n[m].push(p):n[m]=[n[m],p]:n[m]=p}return n};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},128:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,l){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?i(s(e),(function(s){var l=encodeURIComponent(t(s))+n;return a(e[s])?i(e[s],(function(e){return l+encodeURIComponent(t(e))})).join(r):l+encodeURIComponent(t(e[s]))})).join(r):l?encodeURIComponent(t(l))+n+encodeURIComponent(t(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var a=[],i=0;i<e.length;i++)a.push(t(e[i],i));return a}var s=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}}},a={};function i(e){var s=a[e];if(void 0!==s)return s.exports;var r=a[e]={exports:{}},n=!0;try{t[e](r,r.exports,i),n=!1}finally{n&&delete a[e]}return r.exports}i.ab="//";var s={};!function(){var e=s;e.decode=e.parse=i(540),e.encode=e.stringify=i(128)}(),e.exports=s}()},2754:function(){},56391:function(){},5001:function(){},51566:function(){}},function(e){e.O(0,[4939,6660,816,1411,9797,6440,6031,8430,3757,5562,5006,4045,9201,9774,2888,179],(function(){return t=52833,e(e.s=t);var t}));var t=e.O();_N_E=t}]);